<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>16型人格深度测评 | 发现真实的自己</title>
    <link rel="stylesheet" href="style.css">
    <!-- 引入Chart.js用于绘制雷达图 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- 只引入一次Supabase -->
    <script src="https://unpkg.com/@supabase/supabase-js@2" crossorigin="anonymous"></script>
    <!-- 移动端优化 -->
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <!-- 禁止缩放 -->
    <meta name="HandheldFriendly" content="true">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- 字体优化 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* 全局字体优化 */
        * {
            font-family: 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        /* 报告页面特殊字体设置 */
        #report-box {
            font-family: 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        /* 报告卡片文字优化 */
        .report-card {
            letter-spacing: 0.3px;
            line-height: 1.7;
        }
        
        .report-card p {
            margin-bottom: 16px;
            text-align: justify;
        }
        
        .report-card h2, .report-card h3, .report-card h4 {
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        
        /* 列表项优化 */
        .report-card ul, .report-card ol {
            padding-left: 24px;
            margin: 15px 0;
        }
        
        .report-card li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        /* 段落首行缩进 */
        .report-card p {
            text-indent: 2em;
        }
    </style>
</head>
<body class="loading">
    <div class="container">
        <!-- 第一步：输入兑换码 -->
        <div id="code-box">
            <h1>🔐 解锁你的灵魂图谱</h1>
            <p>请输入您获得的唯一兑换码，开启16型人格探索之旅</p>
            <input type="text" id="code-input" placeholder="例如：BMTI001" autocomplete="off">
            <br>
            <button id="unlock-btn">立即解锁测试</button>
            <p id="code-hint"></p>
            <p style="margin-top: 30px; color: #6b7280; font-size: 14px;">
                💡 测试兑换码：BMTI001, TEST001, MBTI001, DEMO123, FREE001
            </p>
        </div>

        <!-- 第二步：开始做题 -->
        <div id="test-box" class="hidden">
            <h1>🧩 16型人格测试</h1>
            <p><small>共60题，请根据第一直觉选择</small></p>
            
            <div id="questionContainer"></div>
            
            <div class="progress-info">
                <span id="progress-text">第 1/60 题</span>
                <progress id="progress-bar" value="1" max="60"></progress>
            </div>
            
            <div class="pagination-controls">
                <button id="prev-btn" disabled>◀ 上一题</button>
                <button id="next-btn">下一题 ▶</button>
            </div>
            
            <button id="submit-btn" class="hidden" disabled>
                完成所有 60 题后解锁
            </button>
        </div>

        <!-- 第三步：查看报告 -->
        <div id="report-box" class="hidden">
            <!-- 报告头部 -->
            <div class="report-header" style="text-align: center; margin-bottom: 40px; padding-top: 20px;">
                <h1 style="color: #4f46e5; margin-bottom: 15px; font-size: 32px; font-weight: 700; letter-spacing: 1px;">📊 你的灵魂图谱分析报告</h1>
                <p style="color: #6b7280; font-size: 18px; margin-bottom: 30px; font-weight: 400; letter-spacing: 0.5px;">基于60道核心母题的深度洞察</p>
                <div class="report-meta" style="display: flex; justify-content: center; gap: 30px; margin-top: 20px; color: #9ca3af; font-size: 15px; flex-wrap: wrap;">
                    <span>📅 报告时间：<span id="report-date">2024年</span></span>
                    <span>🔢 报告ID：<span id="report-id">MBTI-INFJ</span></span>
                </div>
            </div>

            <!-- 第一层：身份定位 -->
            <div class="report-section">
                <h2>第一层：身份定位</h2>
                
                <!-- 1.1 核心人格画像 -->
                <div class="report-card main-personality-card">
                    <!-- 顶部：人格蓝图标题 -->
                    <div style="text-align: center; margin-bottom: 40px; padding: 0 20px;">
                        <div style="margin-bottom: 25px;">
                            <h1 style="font-size: 36px; color: white; font-weight: 700; margin: 0 0 10px 0; letter-spacing: 1.5px; text-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                🎭 你的本质人格蓝图
                            </h1>
                            <p style="opacity: 0.95; color: rgba(255,255,255,0.95); font-size: 18px; margin: 0; font-weight: 400; letter-spacing: 0.5px;">
                                基于60道核心母题的深度洞察
                            </p>
                        </div>
                        
                        <!-- 人格类型徽章 - 居中突出显示 -->
                        <div style="margin: 30px 0 50px 0;">
                            <div style="display: inline-block; background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); padding: 20px 60px; border-radius: 60px; border: 3px solid rgba(255,255,255,0.4); box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                                <div style="font-size: 16px; opacity: 0.9; margin-bottom: 8px; color: rgba(255,255,255,0.95); letter-spacing: 1px;">人格类型</div>
                                <div id="personality-type-badge" style="font-size: 56px; font-weight: 800; color: white; text-shadow: 0 4px 12px rgba(0,0,0,0.4); letter-spacing: 2px;">INFJ</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 核心信息突出显示 -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 40px;">
                        <!-- 角色名称 -->
                        <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div style="background: rgba(255,255,255,0.2); width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 20px;">
                                    <span style="font-size: 24px;">👑</span>
                                </div>
                                <div>
                                    <div style="font-size: 15px; opacity: 0.9; margin-bottom: 5px; color: rgba(255,255,255,0.95); letter-spacing: 0.5px;">角色名称</div>
                                    <div id="role-name" style="font-size: 28px; font-weight: 700; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.2); letter-spacing: 1px;">提倡者</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 类型定义 -->
                        <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div style="background: rgba(255,255,255,0.2); width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 20px;">
                                    <span style="font-size: 24px;">✨</span>
                                </div>
                                <div>
                                    <div style="font-size: 15px; opacity: 0.9; margin-bottom: 5px; color: rgba(255,255,255,0.95); letter-spacing: 0.5px;">人格定义</div>
                                    <div id="type-definition" style="font-size: 17px; line-height: 1.7; color: white; font-weight: 500; letter-spacing: 0.3px;">
                                        富有想象力且意志坚定的理想主义者，总能基于自己的价值观和对他人的关怀来采取行动。
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 核心特质标签（替换人格简介位置） -->
                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2); margin-bottom: 30px;">
                        <h3 style="color: white; margin-bottom: 25px; text-align: center; font-size: 22px; font-weight: 600; letter-spacing: 0.5px;">
                            🏷️ 核心特质标签
                        </h3>
                        <div id="type-traits" style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center;">
                            <div style="background: rgba(255,255,255,0.15); padding: 12px 24px; border-radius: 50px; font-size: 16px; border: 1px solid rgba(255,255,255,0.2); color: white; letter-spacing: 0.3px; font-weight: 500;">直觉型思考者</div>
                            <div style="background: rgba(255,255,255,0.15); padding: 12px 24px; border-radius: 50px; font-size: 16px; border: 1px solid rgba(255,255,255,0.2); color: white; letter-spacing: 0.3px; font-weight: 500;">情感驱动决策</div>
                            <div style="background: rgba(255,255,255,0.15); padding: 12px 24px; border-radius: 50px; font-size: 16px; border: 1px solid rgba(255,255,255,0.2); color: white; letter-spacing: 0.3px; font-weight: 500;">理想主义导向</div>
                            <div style="background: rgba(255,255,255,0.15); padding: 12px 24px; border-radius: 50px; font-size: 16px; border: 1px solid rgba(255,255,255,0.2); color: white; letter-spacing: 0.3px; font-weight: 500;">深度洞察力</div>
                            <div style="background: rgba(255,255,255,0.15); padding: 12px 24px; border-radius: 50px; font-size: 16px; border: 1px solid rgba(255,255,255,0.2); color: white; letter-spacing: 0.3px; font-weight: 500;">共情能力强</div>
                            <div style="background: rgba(255,255,255,0.15); padding: 12px 24px; border-radius: 50px; font-size: 16px; border: 1px solid rgba(255,255,255,0.2); color: white; letter-spacing: 0.3px; font-weight: 500;">价值观坚定</div>
                        </div>
                    </div>
                    
                    <!-- 原人格简介位置已删除 -->
                </div>
            </div>

            <!-- 第二层：多维剖析 -->
            <div class="report-section">
                <h2>第二层：多维剖析</h2>
                
                <!-- 2.1 内在状态仪表盘 -->
                <div class="report-card">
                    <h3 style="color: #10b981; margin-bottom: 20px; font-size: 24px; font-weight: 600; letter-spacing: 0.5px;">📈 内在状态仪表盘</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 30px;">
                        <!-- 心智阶段 -->
                        <div style="border: 1px solid #e5e7eb; padding: 25px; border-radius: 15px; background: white;">
                            <h4 style="margin: 0 0 15px 0; color: #4f46e5; font-size: 18px; font-weight: 600;">🧠 心智阶段</h4>
                            <div id="mind-stage" style="font-size: 20px; font-weight: 700; color: #059669; margin-bottom: 10px; letter-spacing: 0.5px;">中阶觉醒</div>
                            <div style="background: #f3f4f6; height: 10px; border-radius: 5px; overflow: hidden;">
                                <div id="mind-stage-bar" style="background: linear-gradient(90deg, #10b981, #34d399); height: 100%; width: 65%;"></div>
                            </div>
                            <p id="mind-stage-desc" style="margin-top: 15px; color: #6b7280; font-size: 15px; line-height: 1.6; letter-spacing: 0.3px;">你已具备一定的自我觉察能力，开始理解自己的行为模式，并能进行初步的自我调节。</p>
                        </div>
                        
                        <!-- 能量循环 -->
                        <div style="border: 1px solid #e5e7eb; padding: 25px; border-radius: 15px; background: white;">
                            <h4 style="margin: 0 0 15px 0; color: #4f46e5; font-size: 18px; font-weight: 600;">⚡ 能量循环</h4>
                            <div id="energy-cycle" style="font-size: 20px; font-weight: 700; color: #f59e0b; margin-bottom: 10px; letter-spacing: 0.5px;">动态平衡</div>
                            <div style="display: flex; align-items: center; margin-top: 15px;">
                                <div style="flex: 1; text-align: center;">
                                    <div style="font-size: 15px; color: #6b7280; letter-spacing: 0.3px;">外向能量</div>
                                    <div id="energy-E" style="font-size: 22px; font-weight: 700; color: #3b82f6; margin-top: 5px;">40%</div>
                                </div>
                                <div style="width: 100px; height: 10px; background: linear-gradient(90deg, #3b82f6, #8b5cf6); border-radius: 5px;"></div>
                                <div style="flex: 1; text-align: center;">
                                    <div style="font-size: 15px; color: #6b7280; letter-spacing: 0.3px;">内向能量</div>
                                    <div id="energy-I" style="font-size: 22px; font-weight: 700; color: #8b5cf6; margin-top: 5px;">60%</div>
                                </div>
                            </div>
                            <p id="energy-cycle-desc" style="margin-top: 20px; color: #6b7280; font-size: 15px; line-height: 1.6; letter-spacing: 0.3px;">你能在社交与独处间找到平衡点，但偶尔会感到能量波动，需要及时调整恢复。</p>
                        </div>
                    </div>
                    
                    <!-- 八维属性雷达图容器 -->
                    <div style="margin-top: 30px;">
                        <h4 style="color: #4f46e5; margin-bottom: 20px; font-size: 20px; font-weight: 600;">🎯 八维属性雷达图</h4>
                        <div style="display: flex; justify-content: center; padding: 20px; background: #f9fafb; border-radius: 15px;">
                            <canvas id="attribute-radar" width="400" height="400"></canvas>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #3b82f6; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">社交电量：<span id="attr-social" class="attr-value">75%</span></span>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #10b981; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">自洽指数：<span id="attr-self" class="attr-value">68%</span></span>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #f59e0b; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">行动燃料：<span id="attr-action" class="attr-value">52%</span></span>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #ef4444; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">情绪免疫力：<span id="attr-emotion" class="attr-value">81%</span></span>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #8b5cf6; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">视野格局：<span id="attr-vision" class="attr-value">90%</span></span>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #ec4899; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">脑力在线：<span id="attr-brain" class="attr-value">78%</span></span>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #14b8a6; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">边界清晰度：<span id="attr-boundary" class="attr-value">45%</span></span>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 12px; height: 12px; background: #f97316; border-radius: 50%; margin-right: 10px;"></div>
                                <span style="font-size: 15px; letter-spacing: 0.3px;">心灵富足：<span id="attr-soul" class="attr-value">85%</span></span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 2.2 认知功能详解 -->
                <div class="report-card">
                    <h3 style="color: #8b5cf6; margin-bottom: 20px; font-size: 24px; font-weight: 600; letter-spacing: 0.5px;">🧩 认知功能详解</h3>
                    
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: #374151; margin-bottom: 15px; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">📊 你的功能排序</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px;">
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); border: 1px solid #e5e7eb;">
                                <div style="color: #10b981; font-weight: 700; margin-bottom: 10px; font-size: 15px; letter-spacing: 0.5px;">主导功能</div>
                                <div id="dominant-function" style="font-size: 20px; font-weight: 700; margin-bottom: 8px; color: #059669; letter-spacing: 0.5px;">Ni - 内倾直觉</div>
                                <div style="font-size: 15px; color: #6b7280; line-height: 1.6; letter-spacing: 0.3px;">你最自然、最擅长的思维方式，是你的核心优势所在，主导你的决策过程。</div>
                            </div>
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); border: 1px solid #e5e7eb;">
                                <div style="color: #3b82f6; font-weight: 700; margin-bottom: 10px; font-size: 15px; letter-spacing: 0.5px;">辅助功能</div>
                                <div id="auxiliary-function" style="font-size: 20px; font-weight: 700; margin-bottom: 8px; color: #2563eb; letter-spacing: 0.5px;">Fe - 外倾情感</div>
                                <div style="font-size: 15px; color: #6b7280; line-height: 1.6; letter-spacing: 0.3px;">支持主导功能的第二能力，帮助你与他人和世界互动，平衡内在与外在。</div>
                            </div>
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); border: 1px solid #e5e7eb;">
                                <div style="color: #f59e0b; font-weight: 700; margin-bottom: 10px; font-size: 15px; letter-spacing: 0.5px;">第三功能</div>
                                <div id="tertiary-function" style="font-size: 20px; font-weight: 700; margin-bottom: 8px; color: #d97706; letter-spacing: 0.5px;">Ti - 内倾思考</div>
                                <div style="font-size: 15px; color: #6b7280; line-height: 1.6; letter-spacing: 0.3px;">发展中功能，在压力或成长时会更明显，需要意识培养才能成熟运用。</div>
                            </div>
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); border: 1px solid #e5e7eb;">
                                <div style="color: #ef4444; font-weight: 700; margin-bottom: 10px; font-size: 15px; letter-spacing: 0.5px;">劣势功能</div>
                                <div id="inferior-function" style="font-size: 20px; font-weight: 700; margin-bottom: 8px; color: #dc2626; letter-spacing: 0.5px;">Se - 外倾实感</div>
                                <div style="font-size: 15px; color: #6b7280; line-height: 1.6; letter-spacing: 0.3px;">有待发展的功能，可能带来挑战也是成长机会，需有意识培养。</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 认知功能说明 -->
                    <div style="background: white; padding: 25px; border-radius: 15px; border-left: 4px solid #8b5cf6; border: 1px solid #e5e7eb;">
                        <h4 style="color: #8b5cf6; margin-bottom: 15px; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">💡 认知功能说明</h4>
                        <div style="font-size: 16px; line-height: 1.75; color: #4b5563; letter-spacing: 0.3px;">
                            <p style="margin-bottom: 15px;"><strong>认知功能是MBTI理论的核心</strong>，描述了人们处理信息和做出决策的不同方式。每个人都有四个主要功能，按发展程度排序：</p>
                            <ul style="padding-left: 20px; margin-top: 10px; margin-bottom: 15px;">
                                <li style="margin-bottom: 10px;"><strong>主导功能</strong>：最自然、最常用的思维方式，是你的核心优势，占据心理能量的40-50%</li>
                                <li style="margin-bottom: 10px;"><strong>辅助功能</strong>：支持主导功能，帮助你平衡内在与外在世界，占25-30%</li>
                                <li style="margin-bottom: 10px;"><strong>第三功能</strong>：年轻时不明显，随着年龄增长会逐渐发展，占15-20%</li>
                                <li><strong>劣势功能</strong>：最具挑战性，但发展后能带来最大成长，占5-10%</li>
                            </ul>
                            <p style="margin-top: 15px;">了解自己的功能排序，能帮助你更有效地发挥优势，并有意识发展待提升的部分，实现人格的完整与平衡。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 2.3 天赋与盲区 -->
                <div class="report-card">
                    <h3 style="color: #f59e0b; margin-bottom: 20px; font-size: 24px; font-weight: 600; letter-spacing: 0.5px;">⚖️ 天赋与盲区</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
                        <!-- 核心原力 -->
                        <div style="border: 2px solid #10b981; padding: 25px; border-radius: 15px; background: #f0fdf4;">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div style="background: #10b981; color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-right: 15px;">
                                    ✨
                                </div>
                                <h4 style="margin: 0; color: #065f46; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">核心原力</h4>
                            </div>
                            <ul id="core-strengths" style="padding-left: 20px; margin: 0;">
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #065f46;">深邃的洞察力与共情能力，能理解复杂心理动态</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #065f46;">强大的理想主义与使命感，追求有意义的生活</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #065f46;">创造性的问题解决思维，善于看到新可能性</li>
                                <li style="font-size: 16px; line-height: 1.6; color: #065f46;">坚定不移的个人价值观，做事有原则和底线</li>
                            </ul>
                        </div>
                        
                        <!-- 潜在暗面 -->
                        <div style="border: 2px solid #ef4444; padding: 25px; border-radius: 15px; background: #fef2f2;">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div style="background: #ef4444; color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-right: 15px;">
                                    ⚠️
                                </div>
                                <h4 style="margin: 0; color: #7f1d1d; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">潜在暗面</h4>
                            </div>
                            <ul id="potential-shadows" style="padding-left: 20px; margin: 0;">
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #7f1d1d;">过度理想化导致现实落差，易感到失望</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #7f1d1d;">忽视自身需求过度付出，导致能量耗竭</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #7f1d1d;">完美主义导致的拖延，影响行动效率</li>
                                <li style="font-size: 16px; line-height: 1.6; color: #7f1d1d;">对批评过于敏感，容易产生防御心理</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 第三层：关系与成长 -->
            <div class="report-section">
                <h2>第三层：关系与成长</h2>
                
                <!-- 3.1 关系适配地图 -->
                <div class="report-card">
                    <h3 style="color: #8b5cf6; margin-bottom: 20px; font-size: 24px; font-weight: 600; letter-spacing: 0.5px;">💞 关系适配地图</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px;">
                        <!-- 灵魂共鸣 -->
                        <div style="text-align: center; padding: 25px; border: 2px solid #a78bfa; border-radius: 15px; background: #f5f3ff;">
                            <div style="font-size: 45px; margin-bottom: 15px;">💖</div>
                            <h4 style="margin: 0 0 15px 0; color: #7c3aed; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">灵魂共鸣</h4>
                            <div id="soulmate-type" style="font-size: 26px; font-weight: 700; color: #7c3aed; margin-bottom: 10px; letter-spacing: 0.5px;">ENFP / ENTP</div>
                            <p style="color: #6b7280; font-size: 15px; margin: 0; line-height: 1.6; letter-spacing: 0.3px;">与你共享探索精神，能激发彼此潜能的伴侣，相处充满创意与活力。</p>
                        </div>
                        
                        <!-- 最佳拍档 -->
                        <div style="text-align: center; padding: 25px; border: 2px solid #60a5fa; border-radius: 15px; background: #eff6ff;">
                            <div style="font-size: 45px; margin-bottom: 15px;">🤝</div>
                            <h4 style="margin: 0 0 15px 0; color: #2563eb; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">最佳拍档</h4>
                            <div id="partner-type" style="font-size: 26px; font-weight: 700; color: #2563eb; margin-bottom: 10px; letter-spacing: 0.5px;">ESTJ / ESFJ</div>
                            <p style="color: #6b7280; font-size: 15px; margin: 0; line-height: 1.6; letter-spacing: 0.3px;">与你形成互补，在现实事务中提供支持的伙伴，合作高效务实。</p>
                        </div>
                        
                        <!-- 充电类型 -->
                        <div style="text-align: center; padding: 25px; border: 2px solid #34d399; border-radius: 15px; background: #f0fdf4;">
                            <div style="font-size: 45px; margin-bottom: 15px;">⚡</div>
                            <h4 style="margin: 0 0 15px 0; color: #059669; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">充电类型</h4>
                            <div id="energy-boost-type" style="font-size: 26px; font-weight: 700; color: #059669; margin-bottom: 10px; letter-spacing: 0.5px;">INFP / ISFP</div>
                            <p style="color: #6b7280; font-size: 15px; margin: 0; line-height: 1.6; letter-spacing: 0.3px;">能与你深度共情，让你感到被理解的类型，相处自然舒适。</p>
                        </div>
                    </div>
                </div>
                
                <!-- 3.2 专属成长路线图 -->
                <div class="report-card">
                    <h3 style="color: #ec4899; margin-bottom: 20px; font-size: 24px; font-weight: 600; letter-spacing: 0.5px;">🌱 专属成长路线图</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px;">
                        <!-- 近期行动锦囊 -->
                        <div style="padding: 25px; border-radius: 15px; background: linear-gradient(135deg, #fdf2f8, #fce7f3); border: 1px solid #fbcfe8;">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div style="background: #ec4899; color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-right: 15px;">
                                    📝
                                </div>
                                <h4 style="margin: 0; color: #be185d; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">近期行动锦囊 (1-3周)</h4>
                            </div>
                            <ol id="action-tips" style="padding-left: 20px; margin: 0;">
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #be185d;">每天设定15分钟的"自我关怀时间"，关注自身需求</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #be185d;">尝试对非重要请求说"不"，练习设立个人边界</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #be185d;">每周完成一项小目标，避免完美主义导致的拖延</li>
                                <li style="font-size: 16px; line-height: 1.6; color: #be185d;">记录三次"过度付出"的情况并反思调整策略</li>
                            </ol>
                        </div>
                        
                        <!-- 长期进化方向 -->
                        <div style="padding: 25px; border-radius: 15px; background: linear-gradient(135deg, #f0f9ff, #e0f2fe); border: 1px solid #bae6fd;">
                            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                                <div style="background: #0ea5e9; color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-right: 15px;">
                                    🚀
                                </div>
                                <h4 style="margin: 0; color: #0369a1; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">长期进化方向 (1-3年)</h4>
                            </div>
                            <ul id="evolution-direction" style="padding-left: 20px; margin: 0;">
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #0369a1;">发展外倾实感(Se)，增强现实感知与行动力</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #0369a1;">平衡理想与现实，将愿景转化为可执行的计划</li>
                                <li style="margin-bottom: 12px; font-size: 16px; line-height: 1.6; color: #0369a1;">建立可持续的能量管理机制，防止耗竭</li>
                                <li style="font-size: 16px; line-height: 1.6; color: #0369a1;">培养健康的自我表达与坚持主张的能力</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- 关键认知升级 -->
                    <div style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #fefce8, #fef9c3); border-radius: 15px; border: 1px solid #fde047;">
                        <div style="display: flex; align-items: center; margin-bottom: 20px;">
                            <div style="background: #eab308; color: white; width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; margin-right: 15px;">
                                💡
                            </div>
                            <h4 style="margin: 0; color: #a16207; font-size: 20px; font-weight: 600; letter-spacing: 0.5px;">关键认知升级</h4>
                        </div>
                        <p id="key-insight" style="margin: 0; line-height: 1.75; font-size: 17px; color: #854d0e; font-style: italic; letter-spacing: 0.3px;">
                            <strong>"完美不是目标，完整才是。"</strong> 接纳自己的局限性，理解成长是一个持续的过程而非终点。你的价值不在于拯救世界，而在于在每日的小选择中保持真实与善良。允许自己犯错，允许自己休息，允许自己既有光芒也有阴影。
                        </p>
                    </div>
                </div>
            </div>

            <!-- 报告底部 -->
            <div class="report-footer">
                <!-- 重要提示 -->
                <div class="warning-box">
                    <h4>⚠️ 重要提示</h4>
                    <div style="font-size: 15px; line-height: 1.7; letter-spacing: 0.3px;">
                        <p style="margin: 12px 0;"><strong>请立即截图</strong>或使用浏览器的<strong>"打印"功能（快捷键 Ctrl+P）</strong>保存此报告。</p>
                        <p style="margin: 12px 0;">关闭页面后，所有数据将<strong>不会被保存</strong>，建议妥善保管报告内容。</p>
                        <p style="margin: 12px 0;">人格测试是自我探索的工具，而非人生定论。每个人都有无限成长的可能！</p>
                    </div>
                </div>
                
                <!-- 分享按钮 -->
                <div style="margin-bottom: 20px; text-align: center;">
                    <button id="share-btn" style="padding: 14px 35px; background: linear-gradient(135deg, #ec4899, #d946ef); color: white; border: none; border-radius: 50px; font-size: 17px; font-weight: 600; cursor: pointer; margin-right: 15px; letter-spacing: 0.5px;">
                        📱 分享结果
                    </button>
                    <button id="restart-btn" style="padding: 14px 35px; background: #f3f4f6; color: #374151; border: 1px solid #d1d5db; border-radius: 50px; font-size: 17px; font-weight: 600; cursor: pointer; letter-spacing: 0.5px;">
                        🔄 重新测试
                    </button>
                </div>
                
                <p style="color: #9ca3af; font-size: 14px; text-align: center; letter-spacing: 0.3px; line-height: 1.6;">
                    © 2024 灵魂图谱分析 | 本报告基于MBTI理论及心理学原理生成<br>
                    测试结果仅供参考，真正的成长来自于持续的自省与实践
                </p>
            </div>
        </div>
    </div>

    <!-- 链接JavaScript文件 -->
    <script src="script.js"></script>
</body>
</html>
